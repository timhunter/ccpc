GRAMMAR=`mktemp /tmp/tmp.XXXXXX`
OUTPUT=`mktemp /tmp/tmp.XXXXXX`

# This the result of intersecting chomskyan.wmcfg with the empty prefix, then renormalizing.
# Using an input like this with visualize tests some parts of the code that are not used with
# plain pre-intersection grammars, such as the parts that read with "original grammar" and 
# "entropy" comments.
cat <<EOF > $GRAMMAR
(* original grammar: grammars/wmcfg/chomskyan.wmcfg *)
(* intersected with prefix: *)
(* "probability = 1." *)
(* "entropy = 39.7131014507955" *)
1 / 1     S_0-0 --> t164_0-0_0-0_0-0 [0,0;0,1;0,2]
1 / 1     t164_0-0_0-0_0-0 --> t0_0-0_0-0_0-0 t153_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
1 / 1     t0_0-0_0-0_0-0 --> E_0-0 t0_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t153_0-0_0-0_0-0 --> t115_0-0_0-0_0-0_0-0 [0,3;0,0][0,1][0,2]
1 / 1     E_0-0 --> "  "
1 / 1     t0_tmp2_0-0_0-0 --> t0_tmp1_0-0 E_0-0 [0,0][1,0]
384964326609707 / 1000000000000000     t115_0-0_0-0_0-0_0-0 --> t41_0-0_0-0_0-0 t79_0-0_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2][1,3]
64784638421563 / 1000000000000000     t115_0-0_0-0_0-0_0-0 --> t45_0-0_0-0_0-0 t79_0-0_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2][1,3]
435523650136528 / 1000000000000000     t115_0-0_0-0_0-0_0-0 --> t44_0-0_0-0_0-0 t131_0-0_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2][1,3]
114727384832203 / 1000000000000000     t115_0-0_0-0_0-0_0-0 --> t43_0-0_0-0_0-0 t123_0-0_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2][1,3]
1 / 1     t0_tmp1_0-0 --> "  "
1 / 1     t43_0-0_0-0_0-0 --> E_0-0 t43_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t123_0-0_0-0_0-0_0-0 --> t35_0-0_0-0_0-0 t81_0-0_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2][1,3]
1 / 1     t44_0-0_0-0_0-0 --> E_0-0 t44_tmp2_0-0_0-0 [0,0][1,0][1,1]
3438163616139 / 1000000000000000     t131_0-0_0-0_0-0_0-0 --> t36_0-0_0-0_0-0 t83_0-0_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2][1,3]
996561836383861 / 1000000000000000     t131_0-0_0-0_0-0_0-0 --> t46_0-0_0-0_0-0 t85_0-0_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2][1,3]
1 / 1     t45_0-0_0-0_0-0 --> E_0-0 t45_tmp2_0-0_0-0 [0,0][1,0][1,1]
601547199373286 / 1000000000000000     t79_0-0_0-0_0-0_0-0 --> t73_0-0_0-0_0-0 t7_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
398452800626714 / 1000000000000000     t79_0-0_0-0_0-0_0-0 --> t73_0-0_0-0_0-0 t78_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t41_0-0_0-0_0-0 --> E_0-0 t41_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t43_tmp2_0-0_0-0 --> t43_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t35_0-0_0-0_0-0 --> E_0-0 t35_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t81_0-0_0-0_0-0_0-0 --> t72_0-0_0-0_0-0 t7_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t44_tmp2_0-0_0-0 --> t44_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t46_0-0_0-0_0-0 --> E_0-0 t46_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t85_0-0_0-0_0-0_0-0 --> t69_0-0_0-0_0-0 t78_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t36_0-0_0-0_0-0 --> E_0-0 t36_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t83_0-0_0-0_0-0_0-0 --> t71_0-0_0-0_0-0 t78_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t45_tmp2_0-0_0-0 --> t45_tmp1_0-0 E_0-0 [0,0][1,0]
91548419218322 / 1000000000000000     t73_0-0_0-0_0-0 --> t38_0-0_0-0_0-0 t26_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2]
908451580781678 / 1000000000000000     t73_0-0_0-0_0-0 --> t38_0-0_0-0_0-0 t70_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2]
686259879511413 / 1000000000000000     t78_0-0_0-0_0-0 --> t4_0-0_0-0_0-0 t52_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
313740120488587 / 1000000000000000     t78_0-0_0-0_0-0 --> t189_0-0_0-0_0-0 t78_0-0_0-0_0-0 [1,0][1,1][1,2;0,0;0,1;0,2]
1 / 1     t7_0-0_0-0_0-0 --> E_0-0 t7_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t41_tmp2_0-0_0-0 --> t41_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t43_tmp1_0-0 --> "-ed"
1 / 1     t35_tmp2_0-0_0-0 --> t35_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t72_0-0_0-0_0-0 --> t39_0-0_0-0_0-0 t70_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2]
774294670846395 / 1000000000000000     t44_tmp1_0-0 --> "-s"
225705329153605 / 1000000000000000     t44_tmp1_0-0 --> "-ed"
1 / 1     t46_tmp2_0-0_0-0 --> t46_tmp1_0-0 E_0-0 [0,0][1,0]
419279553526129 / 1000000000000000     t69_0-0_0-0_0-0 --> t47_0-0_0-0_0-0 t49_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
392186707255200 / 1000000000000000     t69_0-0_0-0_0-0 --> t47_0-0_0-0_0-0 t75_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
188533739218671 / 1000000000000000     t69_0-0_0-0_0-0 --> t54_0-0_0-0_0-0_0-0 [0,3;0,0][0,1][0,2]
1 / 1     t36_tmp2_0-0_0-0 --> t36_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t71_0-0_0-0_0-0 --> t40_0-0_0-0_0-0 t26_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2]
1 / 1     t45_tmp1_0-0 --> "doesnt"
1 / 1     t38_0-0_0-0_0-0 --> E_0-0 t38_tmp2_0-0_0-0 [0,0][1,0][1,1]
1957848669815 / 1000000000000000     t70_0-0_0-0_0-0 --> t29_0-0_0-0_0-0 t75_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
411954393642750 / 1000000000000000     t70_0-0_0-0_0-0 --> t56_0-0_0-0_0-0_0-0 [0,3;0,0][0,1][0,2]
82344811701025 / 1000000000000000     t70_0-0_0-0_0-0 --> t28_0-0_0-0_0-0 t143_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
503742945986410 / 1000000000000000     t70_0-0_0-0_0-0 --> t30_0-0_0-0_0-0 t158_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
1 / 1     t26_0-0_0-0_0-0 --> E_0-0 t26_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t189_0-0_0-0_0-0 --> t160_0-0_0-0_0-0_0-0 [0,3;0,0][0,1][0,2]
1 / 1     t4_0-0_0-0_0-0 --> E_0-0 t4_tmp2_0-0_0-0 [0,0][1,0][1,1]
161471047260795 / 1000000000000000     t52_0-0_0-0_0-0 --> t5_0-0_0-0_0-0 t74_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
838528952739205 / 1000000000000000     t52_0-0_0-0_0-0 --> t5_0-0_0-0_0-0 t11_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
1 / 1     t7_tmp2_0-0_0-0 --> t7_tmp1_0-0 E_0-0 [0,0][1,0]
129640688762815 / 1000000000000000     t41_tmp1_0-0 --> "  "
56235692246442 / 1000000000000000     t41_tmp1_0-0 --> "-s"
814123618990744 / 1000000000000000     t41_tmp1_0-0 --> "-ed"
1 / 1     t35_tmp1_0-0 --> "have"
1 / 1     t39_0-0_0-0_0-0 --> E_0-0 t39_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t46_tmp1_0-0 --> "be"
1 / 1     t54_0-0_0-0_0-0_0-0 --> t48_0-0_0-0_0-0 t78_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t47_0-0_0-0_0-0 --> E_0-0 t47_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t75_0-0_0-0_0-0 --> t50_0-0_0-0_0-0 t49_0-0_0-0_0-0 [0,0;0,1;0,2;1,0][1,1][1,2]
1 / 1     t49_0-0_0-0_0-0 --> E_0-0 t49_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t36_tmp1_0-0 --> "be"
1 / 1     t40_0-0_0-0_0-0 --> E_0-0 t40_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t38_tmp2_0-0_0-0 --> t38_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t30_0-0_0-0_0-0 --> E_0-0 t30_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t158_0-0_0-0_0-0 --> t2_0-0_0-0_0-0 t153_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
1 / 1     t28_0-0_0-0_0-0 --> E_0-0 t28_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t143_0-0_0-0_0-0 --> t23_0-0_0-0_0-0 t91_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2]
168437237908862 / 1000000000000000     t56_0-0_0-0_0-0_0-0 --> t27_0-0_0-0_0-0 t7_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
831562762091138 / 1000000000000000     t56_0-0_0-0_0-0_0-0 --> t27_0-0_0-0_0-0 t78_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t29_0-0_0-0_0-0 --> E_0-0 t29_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t26_tmp2_0-0_0-0 --> t26_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t160_0-0_0-0_0-0_0-0 --> t1_0-0_0-0_0-0 t154_0-0_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2][1,3]
1 / 1     t4_tmp2_0-0_0-0 --> t4_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t5_0-0_0-0_0-0 --> E_0-0 t5_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t11_0-0_0-0_0-0 --> E_0-0 t11_tmp2_0-0_0-0 [0,0][1,0][1,1]
354399008674102 / 1000000000000000     t74_0-0_0-0_0-0 --> t49_0-0_0-0_0-0 t11_0-0_0-0_0-0 [0,0;0,1;0,2;1,0][1,1][1,2]
645600991325898 / 1000000000000000     t74_0-0_0-0_0-0 --> t12_0-0_0-0_0-0 t158_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
2373371924747 / 1000000000000000     t7_tmp1_0-0 --> "Chris"
53777134587554 / 1000000000000000     t7_tmp1_0-0 --> "Dick"
1613314037626628 / 10000000000000000     t7_tmp1_0-0 --> "David"
53777134587554 / 1000000000000000     t7_tmp1_0-0 --> "Penny"
107554269175109 / 1000000000000000     t7_tmp1_0-0 --> "Sally"
9667149059334 / 1000000000000000     t7_tmp1_0-0 --> "Paul"
9667149059334 / 1000000000000000     t7_tmp1_0-0 --> "Stephen"
9667149059334 / 1000000000000000     t7_tmp1_0-0 --> "Mary"
2373371924747 / 1000000000000000     t7_tmp1_0-0 --> "Pat"
2373371924747 / 1000000000000000     t7_tmp1_0-0 --> "Sue"
2373371924747 / 1000000000000000     t7_tmp1_0-0 --> "Joe"
231548480463 / 1000000000000000     t7_tmp1_0-0 --> "Patrick"
231548480463 / 1000000000000000     t7_tmp1_0-0 --> "Jim"
231548480463 / 1000000000000000     t7_tmp1_0-0 --> "Jenny"
463096960926 / 1000000000000000     t7_tmp1_0-0 --> "Clare"
9667149059334 / 1000000000000000     t7_tmp1_0-0 --> "Ann"
53777134587554 / 1000000000000000     t7_tmp1_0-0 --> "eggs"
1968162083936 / 1000000000000000     t7_tmp1_0-0 --> "lies"
9667149059334 / 1000000000000000     t7_tmp1_0-0 --> "reading"
204804630969609 / 1000000000000000     t7_tmp1_0-0 --> "he"
150795947901592 / 1000000000000000     t7_tmp1_0-0 --> "they"
150795947901592 / 1000000000000000     t7_tmp1_0-0 --> "I"
2431259044863 / 1000000000000000     t7_tmp1_0-0 --> "us"
1 / 1     t39_tmp2_0-0_0-0 --> t39_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t48_0-0_0-0_0-0 --> E_0-0 t48_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t47_tmp2_0-0_0-0 --> t47_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t50_0-0_0-0_0-0 --> E_0-0 t50_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t49_tmp2_0-0_0-0 --> t49_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t40_tmp2_0-0_0-0 --> t40_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t38_tmp1_0-0 --> "  "
1 / 1     t30_tmp2_0-0_0-0 --> t30_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t2_0-0_0-0_0-0 --> E_0-0 t2_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t28_tmp2_0-0_0-0 --> t28_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t23_0-0_0-0_0-0 --> E_0-0 t23_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t91_0-0_0-0_0-0 --> t64_0-0_0-0_0-0_0-0 [0,3;0,0][0,1][0,2]
1 / 1     t27_0-0_0-0_0-0 --> E_0-0 t27_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t29_tmp2_0-0_0-0 --> t29_tmp1_0-0 E_0-0 [0,0][1,0]
977408637873754 / 1000000000000000     t26_tmp1_0-0 --> "matter"
22591362126246 / 1000000000000000     t26_tmp1_0-0 --> "wait"
1 / 1     t1_0-0_0-0_0-0 --> E_0-0 t1_tmp2_0-0_0-0 [0,0][1,0][1,1]
515810798907778 / 1000000000000000     t154_0-0_0-0_0-0_0-0 --> t114_0-0_0-0_0-0_0-0 [0,0][0,1][0,2][0,3]
484189201092222 / 1000000000000000     t154_0-0_0-0_0-0_0-0 --> t113_0-0_0-0_0-0_0-0_0-0 [0,4;0,0][0,1][0,2][0,3]
923368098900656 / 1000000000000000     t4_tmp1_0-0 --> "the"
748197962388757 / 10000000000000000     t4_tmp1_0-0 --> "a"
1651028872871 / 1000000000000000     t4_tmp1_0-0 --> "my"
161075987597 / 1000000000000000     t4_tmp1_0-0 --> "one"
1 / 1     t5_tmp2_0-0_0-0 --> t5_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t11_tmp2_0-0_0-0 --> t11_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t12_0-0_0-0_0-0 --> E_0-0 t12_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t39_tmp1_0-0 --> "-en"
1 / 1     t48_tmp2_0-0_0-0 --> t48_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t47_tmp1_0-0 --> "  "
1 / 1     t50_tmp2_0-0_0-0 --> t50_tmp1_0-0 E_0-0 [0,0][1,0]
151146813233273 / 1000000000000000     t49_tmp1_0-0 --> "young"
151146813233273 / 1000000000000000     t49_tmp1_0-0 --> "poor"
168798224289187 / 1000000000000000     t49_tmp1_0-0 --> "clever"
98192580065532 / 1000000000000000     t49_tmp1_0-0 --> "gentle"
17651411055914 / 1000000000000000     t49_tmp1_0-0 --> "kind"
4333579959835 / 1000000000000000     t49_tmp1_0-0 --> "proud"
4333579959835 / 1000000000000000     t49_tmp1_0-0 --> "lost"
4333579959835 / 1000000000000000     t49_tmp1_0-0 --> "cheap"
4333579959835 / 1000000000000000     t49_tmp1_0-0 --> "interesting"
3593700454497 / 1000000000000000     t49_tmp1_0-0 --> "sad"
3593700454497 / 1000000000000000     t49_tmp1_0-0 --> "late"
422788288764 / 1000000000000000     t49_tmp1_0-0 --> "ill"
422788288764 / 1000000000000000     t49_tmp1_0-0 --> "important"
422788288764 / 1000000000000000     t49_tmp1_0-0 --> "angry"
845576577529 / 1000000000000000     t49_tmp1_0-0 --> "pretty"
3593700454497 / 1000000000000000     t49_tmp1_0-0 --> "honest"
151146813233273 / 1000000000000000     t49_tmp1_0-0 --> "right"
115843991121446 / 1000000000000000     t49_tmp1_0-0 --> "strange"
17651411055914 / 1000000000000000     t49_tmp1_0-0 --> "old"
98192580065532 / 1000000000000000     t49_tmp1_0-0 --> "long"
1 / 1     t40_tmp1_0-0 --> "-ing"
297782350251486 / 1000000000000000     t30_tmp1_0-0 --> "know"
297782350251486 / 1000000000000000     t30_tmp1_0-0 --> "forget"
404435299497028 / 1000000000000000     t30_tmp1_0-0 --> "remember"
1 / 1     t2_tmp2_0-0_0-0 --> t2_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t28_tmp1_0-0 --> "pay"
1 / 1     t23_tmp2_0-0_0-0 --> t23_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t64_0-0_0-0_0-0_0-0 --> t15_0-0_0-0_0-0 t78_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t27_tmp2_0-0_0-0 --> t27_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t29_tmp1_0-0 --> "come"
1 / 1     t1_tmp2_0-0_0-0 --> t1_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t113_0-0_0-0_0-0_0-0_0-0 --> t41_0-0_0-0_0-0 t104_0-0_0-0_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2][1,3][1,4]
1 / 1     t114_0-0_0-0_0-0_0-0 --> t41_0-0_0-0_0-0 t80_0-0_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2][1,3]
1 / 1     t5_tmp1_0-0 --> "  "
65716583273767 / 1000000000000000     t11_tmp1_0-0 --> "story"
74383488205861 / 1000000000000000     t11_tmp1_0-0 --> "boy"
132996783416726 / 1000000000000000     t11_tmp1_0-0 --> "girl"
120487848463188 / 1000000000000000     t11_tmp1_0-0 --> "man"
178699070765 / 1000000000000000     t11_tmp1_0-0 --> "woman"
50482487491065 / 1000000000000000     t11_tmp1_0-0 --> "dog"
41502859185132 / 1000000000000000     t11_tmp1_0-0 --> "cat"
7460686204432 / 1000000000000000     t11_tmp1_0-0 --> "book"
64063616869192 / 1000000000000000     t11_tmp1_0-0 --> "house"
63884917798427 / 1000000000000000     t11_tmp1_0-0 --> "town"
7460686204432 / 1000000000000000     t11_tmp1_0-0 --> "trick"
83005718370264 / 1000000000000000     t11_tmp1_0-0 --> "treat"
83005718370264 / 1000000000000000     t11_tmp1_0-0 --> "sweet"
7460686204432 / 1000000000000000     t11_tmp1_0-0 --> "present"
63884917798427 / 1000000000000000     t11_tmp1_0-0 --> "ticket"
41502859185132 / 1000000000000000     t11_tmp1_0-0 --> "letter"
357398141530 / 1000000000000000     t11_tmp1_0-0 --> "picture"
63884917798427 / 1000000000000000     t11_tmp1_0-0 --> "answer"
7460686204432 / 1000000000000000     t11_tmp1_0-0 --> "accident"
1831665475340 / 1000000000000000     t11_tmp1_0-0 --> "box"
1831665475340 / 1000000000000000     t11_tmp1_0-0 --> "apple"
1831665475340 / 1000000000000000     t11_tmp1_0-0 --> "food"
1518942101501 / 1000000000000000     t11_tmp1_0-0 --> "cake"
2010364546104 / 1000000000000000     t11_tmp1_0-0 --> "ship"
178699070765 / 1000000000000000     t11_tmp1_0-0 --> "car"
178699070765 / 1000000000000000     t11_tmp1_0-0 --> "sailor"
1831665475340 / 1000000000000000     t11_tmp1_0-0 --> "uncle"
1518942101501 / 1000000000000000     t11_tmp1_0-0 --> "mother"
1518942101501 / 1000000000000000     t11_tmp1_0-0 --> "father"
1518942101501 / 1000000000000000     t11_tmp1_0-0 --> "brother"
1518942101501 / 1000000000000000     t11_tmp1_0-0 --> "friend"
1831665475340 / 1000000000000000     t11_tmp1_0-0 --> "bill"
178699070765 / 1000000000000000     t11_tmp1_0-0 --> "leg"
1518942101501 / 1000000000000000     t11_tmp1_0-0 --> "clothe"
1 / 1     t12_tmp2_0-0_0-0 --> t12_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t48_tmp1_0-0 --> "  "
367786611951783 / 1000000000000000     t50_tmp1_0-0 --> "so"
6147730187227494 / 10000000000000000     t50_tmp1_0-0 --> "very"
8720184662734 / 1000000000000000     t50_tmp1_0-0 --> "always"
8720184662734 / 1000000000000000     t50_tmp1_0-0 --> "too"
1 / 1     t2_tmp1_0-0 --> "that"
1 / 1     t23_tmp1_0-0 --> "  "
1 / 1     t15_0-0_0-0_0-0 --> E_0-0 t15_tmp2_0-0_0-0 [0,0][1,0][1,1]
162234042553191 / 1000000000000000     t27_tmp1_0-0 --> "tell"
18506205673759 / 1000000000000000     t27_tmp1_0-0 --> "hate"
107491134751773 / 1000000000000000     t27_tmp1_0-0 --> "write"
162677304964539 / 1000000000000000     t27_tmp1_0-0 --> "sell"
158466312056738 / 1000000000000000     t27_tmp1_0-0 --> "get"
158466312056738 / 1000000000000000     t27_tmp1_0-0 --> "leave"
102947695035461 / 1000000000000000     t27_tmp1_0-0 --> "like"
107158687943262 / 1000000000000000     t27_tmp1_0-0 --> "buy"
4543439716312 / 1000000000000000     t27_tmp1_0-0 --> "bring"
4986702127660 / 1000000000000000     t27_tmp1_0-0 --> "take"
3767730496454 / 1000000000000000     t27_tmp1_0-0 --> "send"
443262411348 / 1000000000000000     t27_tmp1_0-0 --> "have"
3767730496454 / 1000000000000000     t27_tmp1_0-0 --> "surprise"
4543439716312 / 1000000000000000     t27_tmp1_0-0 --> "pay"
1 / 1     t1_tmp1_0-0 --> "  "
992541386210660 / 1000000000000000     t104_0-0_0-0_0-0_0-0_0-0 --> t103_0-0_0-0_0-0_0-0 t7_0-0_0-0_0-0 [0,0][0,1][0,2][0,3][1,0;1,1;1,2]
7458613789340 / 1000000000000000     t104_0-0_0-0_0-0_0-0_0-0 --> t103_0-0_0-0_0-0_0-0 t78_0-0_0-0_0-0 [0,0][0,1][0,2][0,3][1,0;1,1;1,2]
23224043715847 / 1000000000000000     t80_0-0_0-0_0-0_0-0 --> t73_0-0_0-0_0-0 t76_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
976775956284153 / 1000000000000000     t80_0-0_0-0_0-0_0-0 --> t73_0-0_0-0_0-0 t9_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t12_tmp1_0-0 --> "fact"
1 / 1     t15_tmp2_0-0_0-0 --> t15_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t103_0-0_0-0_0-0_0-0 --> t38_0-0_0-0_0-0 t99_0-0_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2][1,3]
1 / 1     t9_0-0_0-0_0-0 --> E_0-0 t9_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t76_0-0_0-0_0-0 --> t10_0-0_0-0_0-0 t52_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
1 / 1     t15_tmp1_0-0 --> "for"
380557443915704 / 1000000000000000     t99_0-0_0-0_0-0_0-0 --> t55_0-0_0-0_0-0_0-0 [0,0][0,1][0,2][0,3]
252617267165194 / 1000000000000000     t99_0-0_0-0_0-0_0-0 --> t51_0-0_0-0_0-0 t99_0-0_0-0_0-0_0-0 [1,0][1,1][1,2;0,0;0,1;0,2][1,3]
5574439157036 / 1000000000000000     t99_0-0_0-0_0-0_0-0 --> t142_0-0_0-0_0-0_0-0 t70_0-0_0-0_0-0 [1,0][1,1][1,2;0,0;0,1;0,2][0,3]
5574439157036 / 1000000000000000     t99_0-0_0-0_0-0_0-0 --> t138_0-0_0-0_0-0_0-0 t70_0-0_0-0_0-0 [1,0][1,1][1,2;0,0;0,1;0,2][0,3]
5574439157036 / 1000000000000000     t99_0-0_0-0_0-0_0-0 --> t140_0-0_0-0_0-0_0-0 t70_0-0_0-0_0-0 [1,0][1,1][1,2;0,0;0,1;0,2][0,3]
5574439157036 / 1000000000000000     t99_0-0_0-0_0-0_0-0 --> t136_0-0_0-0_0-0_0-0 t70_0-0_0-0_0-0 [1,0][1,1][1,2;0,0;0,1;0,2][0,3]
90822569680489 / 1000000000000000     t99_0-0_0-0_0-0_0-0 --> t173_0-0_0-0_0-0_0-0_0-0 [0,4;0,0][0,1][0,2][0,3]
253704962610469 / 1000000000000000     t99_0-0_0-0_0-0_0-0 --> t183_0-0_0-0_0-0_0-0_0-0 [0,3;0,0][0,1][0,2][0,4]
1 / 1     t9_tmp2_0-0_0-0 --> t9_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t10_0-0_0-0_0-0 --> E_0-0 t10_tmp2_0-0_0-0 [0,0][1,0][1,1]
500000000000000 / 1000000000000000     t183_0-0_0-0_0-0_0-0_0-0 --> t169_0-0_0-0_0-0_0-0_0-0_0-0 [0,5;0,0][0,1][0,2][0,3][0,4]
500000000000000 / 1000000000000000     t183_0-0_0-0_0-0_0-0_0-0 --> t172_0-0_0-0_0-0_0-0_0-0 [0,0][0,1][0,2][0,3][0,4]
1 / 1     t173_0-0_0-0_0-0_0-0_0-0 --> t148_0-0_0-0_0-0_0-0 t78_0-0_0-0_0-0 [0,0][0,1][0,2][0,3][1,0;1,1;1,2]
1 / 1     t136_0-0_0-0_0-0_0-0 --> t20_0-0_0-0_0-0 t96_0-0_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2][1,3]
1 / 1     t140_0-0_0-0_0-0_0-0 --> t22_0-0_0-0_0-0 t90_0-0_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2][1,3]
1 / 1     t138_0-0_0-0_0-0_0-0 --> t21_0-0_0-0_0-0 t94_0-0_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2][1,3]
1 / 1     t142_0-0_0-0_0-0_0-0 --> t23_0-0_0-0_0-0 t92_0-0_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2][1,3]
1 / 1     t51_0-0_0-0_0-0 --> E_0-0 t51_tmp2_0-0_0-0 [0,0][1,0][1,1]
663808503036799 / 1000000000000000     t55_0-0_0-0_0-0_0-0 --> t27_0-0_0-0_0-0 t9_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
4287245444802 / 1000000000000000     t55_0-0_0-0_0-0_0-0 --> t27_0-0_0-0_0-0 t76_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
331904251518399 / 1000000000000000     t55_0-0_0-0_0-0_0-0 --> t147_0-0_0-0_0-0 t9_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
440743056175761 / 1000000000000000     t9_tmp1_0-0 --> "which"
559256943824239 / 1000000000000000     t9_tmp1_0-0 --> "who"
1 / 1     t10_tmp2_0-0_0-0 --> t10_tmp1_0-0 E_0-0 [0,0][1,0]
995712754555198 / 1000000000000000     t172_0-0_0-0_0-0_0-0_0-0 --> t149_0-0_0-0_0-0_0-0 t9_0-0_0-0_0-0 [0,0][0,1][0,2][0,3][1,0;1,1;1,2]
4287245444802 / 1000000000000000     t172_0-0_0-0_0-0_0-0_0-0 --> t149_0-0_0-0_0-0_0-0 t76_0-0_0-0_0-0 [0,0][0,1][0,2][0,3][1,0;1,1;1,2]
1 / 1     t169_0-0_0-0_0-0_0-0_0-0_0-0 --> t150_0-0_0-0_0-0_0-0_0-0 t7_0-0_0-0_0-0 [0,0][0,1][0,2][0,3][0,4][1,0;1,1;1,2]
1 / 1     t148_0-0_0-0_0-0_0-0 --> t25_0-0_0-0_0-0 t132_0-0_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2][1,3]
1 / 1     t20_0-0_0-0_0-0 --> E_0-0 t20_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t96_0-0_0-0_0-0_0-0 --> t59_0-0_0-0_0-0_0-0 [0,0][0,1][0,2][0,3]
1 / 1     t22_0-0_0-0_0-0 --> E_0-0 t22_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t90_0-0_0-0_0-0_0-0 --> t65_0-0_0-0_0-0_0-0 [0,0][0,1][0,2][0,3]
1 / 1     t21_0-0_0-0_0-0 --> E_0-0 t21_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t94_0-0_0-0_0-0_0-0 --> t61_0-0_0-0_0-0_0-0 [0,0][0,1][0,2][0,3]
1 / 1     t92_0-0_0-0_0-0_0-0 --> t63_0-0_0-0_0-0_0-0 [0,0][0,1][0,2][0,3]
1 / 1     t51_tmp2_0-0_0-0 --> t51_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t147_0-0_0-0_0-0 --> t25_0-0_0-0_0-0 t133_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2]
1 / 1     t10_tmp1_0-0 --> "whose"
1 / 1     t149_0-0_0-0_0-0_0-0 --> t24_0-0_0-0_0-0 t135_0-0_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2][1,3]
1 / 1     t150_0-0_0-0_0-0_0-0_0-0 --> t24_0-0_0-0_0-0 t134_0-0_0-0_0-0_0-0_0-0 [0,0][0,1][0,2;1,0;1,1;1,2][1,3][1,4]
1 / 1     t25_0-0_0-0_0-0 --> E_0-0 t25_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t132_0-0_0-0_0-0_0-0 --> t19_0-0_0-0_0-0 t88_0-0_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2][1,3]
1 / 1     t20_tmp2_0-0_0-0 --> t20_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t59_0-0_0-0_0-0_0-0 --> t17_0-0_0-0_0-0 t9_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t22_tmp2_0-0_0-0 --> t22_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t65_0-0_0-0_0-0_0-0 --> t14_0-0_0-0_0-0 t9_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t21_tmp2_0-0_0-0 --> t21_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t61_0-0_0-0_0-0_0-0 --> t16_0-0_0-0_0-0 t9_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t63_0-0_0-0_0-0_0-0 --> t15_0-0_0-0_0-0 t9_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
500000000000000 / 1000000000000000     t51_tmp1_0-0 --> "yesterday"
500000000000000 / 1000000000000000     t51_tmp1_0-0 --> "today"
1 / 1     t133_0-0_0-0_0-0 --> t19_0-0_0-0_0-0 t87_0-0_0-0_0-0 [0,0][1,1;0,1][0,2;1,0;1,2]
1 / 1     t24_0-0_0-0_0-0 --> E_0-0 t24_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t135_0-0_0-0_0-0_0-0 --> t19_0-0_0-0_0-0 t97_0-0_0-0_0-0 [0,0][1,1;0,1][0,2][1,0;1,2]
1 / 1     t134_0-0_0-0_0-0_0-0_0-0 --> t19_0-0_0-0_0-0 t98_0-0_0-0_0-0_0-0 [0,0][1,1;0,1][0,2][1,0;1,2][1,3]
1 / 1     t25_tmp2_0-0_0-0 --> t25_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t19_0-0_0-0_0-0 --> E_0-0 t19_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t88_0-0_0-0_0-0_0-0 --> t67_0-0_0-0_0-0_0-0 [0,0][0,1][0,2][0,3]
1 / 1     t20_tmp1_0-0 --> "  "
1 / 1     t17_0-0_0-0_0-0 --> E_0-0 t17_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t22_tmp1_0-0 --> "  "
1 / 1     t14_0-0_0-0_0-0 --> E_0-0 t14_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t21_tmp1_0-0 --> "  "
1 / 1     t16_0-0_0-0_0-0 --> E_0-0 t16_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t87_0-0_0-0_0-0 --> t68_0-0_0-0_0-0_0-0 [0,3;0,0][0,1][0,2]
1 / 1     t24_tmp2_0-0_0-0 --> t24_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t97_0-0_0-0_0-0 --> t58_0-0_0-0_0-0_0-0 [0,3;0,0][0,1][0,2]
1 / 1     t98_0-0_0-0_0-0_0-0 --> t57_0-0_0-0_0-0_0-0 [0,0][0,1][0,2][0,3]
104571070757671 / 1000000000000000     t25_tmp1_0-0 --> "give"
581715716969317 / 1000000000000000     t25_tmp1_0-0 --> "show"
104571070757671 / 1000000000000000     t25_tmp1_0-0 --> "explain"
104571070757671 / 1000000000000000     t25_tmp1_0-0 --> "teach"
104571070757671 / 1000000000000000     t25_tmp1_0-0 --> "sell"
1 / 1     t19_tmp2_0-0_0-0 --> t19_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t67_0-0_0-0_0-0_0-0 --> t13_0-0_0-0_0-0 t9_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t17_tmp2_0-0_0-0 --> t17_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t14_tmp2_0-0_0-0 --> t14_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t16_tmp2_0-0_0-0 --> t16_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t68_0-0_0-0_0-0_0-0 --> t13_0-0_0-0_0-0 t78_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
995712754555198 / 1000000000000000     t24_tmp1_0-0 --> "give"
4287245444802 / 1000000000000000     t24_tmp1_0-0 --> "show"
1 / 1     t58_0-0_0-0_0-0_0-0 --> t18_0-0_0-0_0-0 t7_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
995712754555198 / 1000000000000000     t57_0-0_0-0_0-0_0-0 --> t18_0-0_0-0_0-0 t9_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
4287245444802 / 1000000000000000     t57_0-0_0-0_0-0_0-0 --> t18_0-0_0-0_0-0 t76_0-0_0-0_0-0 [0,0][0,1][0,2][1,0;1,1;1,2]
1 / 1     t19_tmp1_0-0 --> "  "
1 / 1     t13_0-0_0-0_0-0 --> E_0-0 t13_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t17_tmp1_0-0 --> "in"
1 / 1     t14_tmp1_0-0 --> "on"
1 / 1     t16_tmp1_0-0 --> "with"
1 / 1     t18_0-0_0-0_0-0 --> E_0-0 t18_tmp2_0-0_0-0 [0,0][1,0][1,1]
1 / 1     t13_tmp2_0-0_0-0 --> t13_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t18_tmp2_0-0_0-0 --> t18_tmp1_0-0 E_0-0 [0,0][1,0]
1 / 1     t13_tmp1_0-0 --> "to"
1 / 1     t18_tmp1_0-0 --> "  "
EOF

./visualize -kbest -g $GRAMMAR -n 30 -o $OUTPUT | `dirname $0`/canonicalize.sh

echo "======================================"

# grep to remove the timestamp and the comment that gives the name of the input file, because these details change each run
cat $OUTPUT | egrep -v '\\item timestamp: ' | egrep -v $GRAMMAR

rm $GRAMMAR
rm $OUTPUT

