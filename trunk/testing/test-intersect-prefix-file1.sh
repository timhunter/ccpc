TMP=`mktemp`

# write FSA file corresponding to the prefix "the boy who"
cat <<EOF > $TMP
0	1	the	1.0
1	2	boy	1.0
2	3	who	1.0
3	3	a	1.0
3	3	accident	1.0
3	3	always	1.0
3	3	angry	1.0
3	3	Ann	1.0
3	3	answer	1.0
3	3	apple	1.0
3	3	be	1.0
3	3	bill	1.0
3	3	book	1.0
3	3	box	1.0
3	3	boy	1.0
3	3	bring	1.0
3	3	brother	1.0
3	3	buy	1.0
3	3	cake	1.0
3	3	car	1.0
3	3	cat	1.0
3	3	cheap	1.0
3	3	Chris	1.0
3	3	Clare	1.0
3	3	clever	1.0
3	3	clothe	1.0
3	3	come	1.0
3	3	David	1.0
3	3	Dick	1.0
3	3	doesnt	1.0
3	3	dog	1.0
3	3	-ed	1.0
3	3	eggs	1.0
3	3	-en	1.0
3	3	explain	1.0
3	3	fact	1.0
3	3	father	1.0
3	3	food	1.0
3	3	for	1.0
3	3	forget	1.0
3	3	friend	1.0
3	3	gentle	1.0
3	3	get	1.0
3	3	girl	1.0
3	3	give	1.0
3	3	hate	1.0
3	3	have	1.0
3	3	he	1.0
3	3	honest	1.0
3	3	house	1.0
3	3	I	1.0
3	3	ill	1.0
3	3	important	1.0
3	3	in	1.0
3	3	-ing	1.0
3	3	interesting	1.0
3	3	Jenny	1.0
3	3	Jim	1.0
3	3	Joe	1.0
3	3	kind	1.0
3	3	know	1.0
3	3	late	1.0
3	3	leave	1.0
3	3	leg	1.0
3	3	letter	1.0
3	3	lies	1.0
3	3	like	1.0
3	3	long	1.0
3	3	lost	1.0
3	3	man	1.0
3	3	Mary	1.0
3	3	matter	1.0
3	3	mother	1.0
3	3	my	1.0
3	3	old	1.0
3	3	on	1.0
3	3	one	1.0
3	3	Pat	1.0
3	3	Patrick	1.0
3	3	Paul	1.0
3	3	pay	1.0
3	3	Penny	1.0
3	3	picture	1.0
3	3	poor	1.0
3	3	present	1.0
3	3	pretty	1.0
3	3	proud	1.0
3	3	reading	1.0
3	3	remember	1.0
3	3	right	1.0
3	3	-s	1.0
3	3	s	1.0
3	3	sad	1.0
3	3	sailor	1.0
3	3	Sally	1.0
3	3	sell	1.0
3	3	send	1.0
3	3	ship	1.0
3	3	show	1.0
3	3	so	1.0
3	3	Stephen	1.0
3	3	story	1.0
3	3	strange	1.0
3	3	Sue	1.0
3	3	surprise	1.0
3	3	sweet	1.0
3	3	take	1.0
3	3	teach	1.0
3	3	tell	1.0
3	3	that	1.0
3	3	the	1.0
3	3	they	1.0
3	3	ticket	1.0
3	3	to	1.0
3	3	today	1.0
3	3	too	1.0
3	3	town	1.0
3	3	treat	1.0
3	3	trick	1.0
3	3	uncle	1.0
3	3	us	1.0
3	3	very	1.0
3	3	wait	1.0
3	3	which	1.0
3	3	who	1.0
3	3	with	1.0
3	3	woman	1.0
3	3	write	1.0
3	3	yesterday	1.0
3	3	young	1.0
3	3	<epsilon>	1.0
3
EOF

# grep command omits the comment line, because the name of the file changes each run
./mcfg_nt grammars/wmcfg/larsonian1.wmcfg -intersect -file $TMP | grep -v $TMP

rm $TMP
