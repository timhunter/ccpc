TMP=`mktemp /tmp/tmp.XXXXXX`

# write FSA file corresponding to the prefix "the boy who"
cat <<EOF > $TMP
0	1	the	0
1	2	boy	0
2	3	who	0
3	3	a	0
3	3	accident	0
3	3	always	0
3	3	angry	0
3	3	Ann	0
3	3	answer	0
3	3	apple	0
3	3	be	0
3	3	bill	0
3	3	book	0
3	3	box	0
3	3	boy	0
3	3	bring	0
3	3	brother	0
3	3	buy	0
3	3	cake	0
3	3	car	0
3	3	cat	0
3	3	cheap	0
3	3	Chris	0
3	3	Clare	0
3	3	clever	0
3	3	clothe	0
3	3	come	0
3	3	David	0
3	3	Dick	0
3	3	doesnt	0
3	3	dog	0
3	3	-ed	0
3	3	eggs	0
3	3	-en	0
3	3	explain	0
3	3	fact	0
3	3	father	0
3	3	food	0
3	3	for	0
3	3	forget	0
3	3	friend	0
3	3	gentle	0
3	3	get	0
3	3	girl	0
3	3	give	0
3	3	hate	0
3	3	have	0
3	3	he	0
3	3	honest	0
3	3	house	0
3	3	I	0
3	3	ill	0
3	3	important	0
3	3	in	0
3	3	-ing	0
3	3	interesting	0
3	3	Jenny	0
3	3	Jim	0
3	3	Joe	0
3	3	kind	0
3	3	know	0
3	3	late	0
3	3	leave	0
3	3	leg	0
3	3	letter	0
3	3	lies	0
3	3	like	0
3	3	long	0
3	3	lost	0
3	3	man	0
3	3	Mary	0
3	3	matter	0
3	3	mother	0
3	3	my	0
3	3	old	0
3	3	on	0
3	3	one	0
3	3	Pat	0
3	3	Patrick	0
3	3	Paul	0
3	3	pay	0
3	3	Penny	0
3	3	picture	0
3	3	poor	0
3	3	present	0
3	3	pretty	0
3	3	proud	0
3	3	reading	0
3	3	remember	0
3	3	right	0
3	3	-s	0
3	3	s	0
3	3	sad	0
3	3	sailor	0
3	3	Sally	0
3	3	sell	0
3	3	send	0
3	3	ship	0
3	3	show	0
3	3	so	0
3	3	Stephen	0
3	3	story	0
3	3	strange	0
3	3	Sue	0
3	3	surprise	0
3	3	sweet	0
3	3	take	0
3	3	teach	0
3	3	tell	0
3	3	that	0
3	3	the	0
3	3	they	0
3	3	ticket	0
3	3	to	0
3	3	today	0
3	3	too	0
3	3	town	0
3	3	treat	0
3	3	trick	0
3	3	uncle	0
3	3	us	0
3	3	very	0
3	3	wait	0
3	3	which	0
3	3	who	0
3	3	with	0
3	3	woman	0
3	3	write	0
3	3	yesterday	0
3	3	young	0
3	3	<epsilon>	0
3
EOF

# grep command omits the comment line, because the name of the file changes each run
./mcfg_nt grammars/wmcfg/larsonian1.wmcfg -intersect -file $TMP | grep -v $TMP

rm $TMP
